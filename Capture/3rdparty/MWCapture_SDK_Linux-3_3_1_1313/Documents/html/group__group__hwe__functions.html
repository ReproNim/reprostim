<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge"> 
    <meta name="generator" content="Doxygen 1.8.11"/>
    <title>Hardware Encoder Module Functions - MWCapture SDK Linux</title>
    <script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
    <link href="mw_style.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="dynsections.js"></script>
  </head>
  <body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
    <tbody>
    <tr>
      <td id="projectalign">
      <div id="projectname"><a href="http://www.magewell.com/sdk" target="blank">MWCapture SDK Linux</a>
      &#160;<span id="projectnumber">3.3.1.LAST_SVN_COMMIT_NUM</span>
      </div>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
  <!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="page_lib.html"><span>Development&#160;Library</span></a></li>
      <li><a href="Readme.html"><span>Release&#160;Notes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Hardware Encoder Module Functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga0d3ad419f4e130ff9ee7b7ffa2364181"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#ga0d3ad419f4e130ff9ee7b7ffa2364181">MW_ENCODER_CALLBACK</a>) (void *user_ptr, const uint8_t *p_frame, uint32_t frame_len, <a class="el" href="group__group__hwe__variables__struct.html#gaae039e44d5719754a32b5aa875d811a5">mw_venc_frame_info_t</a> *p_frame_info)</td></tr>
<tr class="memdesc:ga0d3ad419f4e130ff9ee7b7ffa2364181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback functions.  <a href="#ga0d3ad419f4e130ff9ee7b7ffa2364181">More...</a><br /></td></tr>
<tr class="separator:ga0d3ad419f4e130ff9ee7b7ffa2364181"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga80ebe29e70a958305defe84ac2e49d8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#ga80ebe29e70a958305defe84ac2e49d8e">mw_venc_init</a> ()</td></tr>
<tr class="memdesc:ga80ebe29e70a958305defe84ac2e49d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes mw_venc.  <a href="#ga80ebe29e70a958305defe84ac2e49d8e">More...</a><br /></td></tr>
<tr class="separator:ga80ebe29e70a958305defe84ac2e49d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae500f11b08c40f4196592ce2b1ebd645"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#gae500f11b08c40f4196592ce2b1ebd645">mw_venc_deinit</a> ()</td></tr>
<tr class="memdesc:gae500f11b08c40f4196592ce2b1ebd645"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys mw_venc.  <a href="#gae500f11b08c40f4196592ce2b1ebd645">More...</a><br /></td></tr>
<tr class="separator:gae500f11b08c40f4196592ce2b1ebd645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05a41036a9f770d219bca6303111f48f"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#ga05a41036a9f770d219bca6303111f48f">mw_venc_get_gpu_num</a> ()</td></tr>
<tr class="memdesc:ga05a41036a9f770d219bca6303111f48f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the number of GPUs for hardware video encoding and decoding.  <a href="#ga05a41036a9f770d219bca6303111f48f">More...</a><br /></td></tr>
<tr class="separator:ga05a41036a9f770d219bca6303111f48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe85430afd008d756635c105d813e187"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#gabe85430afd008d756635c105d813e187">mw_venc_get_gpu_info_by_index</a> (int32_t index, <a class="el" href="group__group__hwe__variables__struct.html#gaf0b4268035e196f588c51cbfc211d946">mw_venc_gpu_info_t</a> *info)</td></tr>
<tr class="memdesc:gabe85430afd008d756635c105d813e187"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains hardware information of GPU by index.  <a href="#gabe85430afd008d756635c105d813e187">More...</a><br /></td></tr>
<tr class="separator:gabe85430afd008d756635c105d813e187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga390998cb822ba3aecdfcefbe7cc2c254"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#ga390998cb822ba3aecdfcefbe7cc2c254">mw_venc_get_default_param</a> (<a class="el" href="group__group__hwe__variables__struct.html#gaca662428f197549b558ca786bbb72e4b">mw_venc_param_t</a> *p_param)</td></tr>
<tr class="memdesc:ga390998cb822ba3aecdfcefbe7cc2c254"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the default value of encoding parameters.  <a href="#ga390998cb822ba3aecdfcefbe7cc2c254">More...</a><br /></td></tr>
<tr class="separator:ga390998cb822ba3aecdfcefbe7cc2c254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab32f83108c407dd142065896b9c01f24"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#gab32f83108c407dd142065896b9c01f24">mw_venc_get_support_platfrom</a> ()</td></tr>
<tr class="memdesc:gab32f83108c407dd142065896b9c01f24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets supported encoding hardware platform.  <a href="#gab32f83108c407dd142065896b9c01f24">More...</a><br /></td></tr>
<tr class="separator:gab32f83108c407dd142065896b9c01f24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1cd4780923eba393867760ca1be33e7"><td class="memItemLeft" align="right" valign="top">mw_venc_handle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#gad1cd4780923eba393867760ca1be33e7">mw_venc_create</a> (<a class="el" href="group__group__hwe__variables__enum.html#ga667ef7b26102fd40f72e2080d3a7c35d">mw_venc_platform_t</a> platform, <a class="el" href="group__group__hwe__variables__struct.html#gaca662428f197549b558ca786bbb72e4b">mw_venc_param_t</a> *p_param, <a class="el" href="group__group__hwe__functions.html#ga0d3ad419f4e130ff9ee7b7ffa2364181">MW_ENCODER_CALLBACK</a> frame_callback, void *user_ptr)</td></tr>
<tr class="memdesc:gad1cd4780923eba393867760ca1be33e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an encoder.  <a href="#gad1cd4780923eba393867760ca1be33e7">More...</a><br /></td></tr>
<tr class="separator:gad1cd4780923eba393867760ca1be33e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec58641bb6ffda68cb1f865654773d93"><td class="memItemLeft" align="right" valign="top">mw_venc_handle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#gaec58641bb6ffda68cb1f865654773d93">mw_venc_create_by_index</a> (int32_t index, <a class="el" href="group__group__hwe__variables__struct.html#gaca662428f197549b558ca786bbb72e4b">mw_venc_param_t</a> *p_param, <a class="el" href="group__group__hwe__functions.html#ga0d3ad419f4e130ff9ee7b7ffa2364181">MW_ENCODER_CALLBACK</a> frame_callback, void *user_ptr)</td></tr>
<tr class="memdesc:gaec58641bb6ffda68cb1f865654773d93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ctreats an encoder.  <a href="#gaec58641bb6ffda68cb1f865654773d93">More...</a><br /></td></tr>
<tr class="separator:gaec58641bb6ffda68cb1f865654773d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73221cbca4671e371ec4727da5179e26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#ga73221cbca4671e371ec4727da5179e26">mw_venc_put_frame</a> (mw_venc_handle_t handle, uint8_t *p_frame)</td></tr>
<tr class="memdesc:ga73221cbca4671e371ec4727da5179e26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Imports data to encoders.  <a href="#ga73221cbca4671e371ec4727da5179e26">More...</a><br /></td></tr>
<tr class="separator:ga73221cbca4671e371ec4727da5179e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4bcddc245714bd7a69a89638ba8baa5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#gaa4bcddc245714bd7a69a89638ba8baa5">mw_venc_put_frame_ex</a> (mw_venc_handle_t handle, uint8_t *p_frame, int64_t pts)</td></tr>
<tr class="memdesc:gaa4bcddc245714bd7a69a89638ba8baa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Imports data to encoders.  <a href="#gaa4bcddc245714bd7a69a89638ba8baa5">More...</a><br /></td></tr>
<tr class="separator:gaa4bcddc245714bd7a69a89638ba8baa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa14eee2a512695ac19fdfc0368d8ba76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#gaa14eee2a512695ac19fdfc0368d8ba76">mw_venc_destory</a> (mw_venc_handle_t handle)</td></tr>
<tr class="memdesc:gaa14eee2a512695ac19fdfc0368d8ba76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys encoders.  <a href="#gaa14eee2a512695ac19fdfc0368d8ba76">More...</a><br /></td></tr>
<tr class="separator:gaa14eee2a512695ac19fdfc0368d8ba76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd1cab1d6b31b33de6be6771bc85bb30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#gabd1cab1d6b31b33de6be6771bc85bb30">mw_venc_get_property</a> (mw_venc_handle_t handle, <a class="el" href="group__group__hwe__variables__enum.html#gace8effbe4de00f9dbc1a4f2eafdc9fbc">mw_venc_property_t</a> param, void *args)</td></tr>
<tr class="memdesc:gabd1cab1d6b31b33de6be6771bc85bb30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets encoder parameters.  <a href="#gabd1cab1d6b31b33de6be6771bc85bb30">More...</a><br /></td></tr>
<tr class="separator:gabd1cab1d6b31b33de6be6771bc85bb30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88ce94ee4facb6a87d88c45aae28075a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__hwe__functions.html#ga88ce94ee4facb6a87d88c45aae28075a">mw_venc_set_property</a> (mw_venc_handle_t handle, <a class="el" href="group__group__hwe__variables__enum.html#gace8effbe4de00f9dbc1a4f2eafdc9fbc">mw_venc_property_t</a> param, void *args)</td></tr>
<tr class="memdesc:ga88ce94ee4facb6a87d88c45aae28075a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets encoder parameters.  <a href="#ga88ce94ee4facb6a87d88c45aae28075a">More...</a><br /></td></tr>
<tr class="separator:ga88ce94ee4facb6a87d88c45aae28075a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga0d3ad419f4e130ff9ee7b7ffa2364181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* MW_ENCODER_CALLBACK) (void *user_ptr, const uint8_t *p_frame, uint32_t frame_len, <a class="el" href="group__group__hwe__variables__struct.html#gaae039e44d5719754a32b5aa875d811a5">mw_venc_frame_info_t</a> *p_frame_info)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback functions. </p>
<p>out code date.<br />
Related function(s):<br />
 <a class="el" href="group__group__hwe__functions.html#gad1cd4780923eba393867760ca1be33e7">mw_venc_create</a> <br />
 mw_venc_create_ex <br />
</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad1cd4780923eba393867760ca1be33e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mw_venc_handle_t mw_venc_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hwe__variables__enum.html#ga667ef7b26102fd40f72e2080d3a7c35d">mw_venc_platform_t</a>&#160;</td>
          <td class="paramname"><em>platform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__hwe__variables__struct.html#gaca662428f197549b558ca786bbb72e4b">mw_venc_param_t</a> *&#160;</td>
          <td class="paramname"><em>p_param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__hwe__functions.html#ga0d3ad419f4e130ff9ee7b7ffa2364181">MW_ENCODER_CALLBACK</a>&#160;</td>
          <td class="paramname"><em>frame_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an encoder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">platform</td><td>Hardware encoding platform </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_param</td><td>Encoder parameters </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame_callback</td><td>Encoder callback function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_ptr</td><td>Callback parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the encoder handle if succeeded, otherwise returns NULL.</dd></dl>
<p>Usage: <br />
 The recommended way to call the function is as follows. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; ....</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; // Callback function</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; void encode_callback(</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;      void * user_ptr, </div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;      const uint8_t * p_frame, </div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;      uint32_t frame_len, </div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;      mw_venc_frame_info_t *p_frame_info)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; {</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;      // Processes data</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; }</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; ...</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; mw_venc_init();</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; ...</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; mw_venc_handle_t t_handle = NULL;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; mw_venc_platform_t t_platfrom = MW_VENC_PLATFORM_UNKNOWN;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; mw_venc_param_t t_venc_param;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; mw_venc_status_t t_venc_stat = MW_VENC_STATUS_SUCCESS;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; mw_venc_get_default_param(&amp;t_venc_param);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; uint32 t_u32_platfrom = mw_venc_get_support_platfrom();</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; if(t_u32_platfrom &amp; MW_VENC_PLATFORM_AMD){</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  //For AMD</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  t_platfrom = MW_VENC_PLATFORM_AMD;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; }</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; if(t_u32_platform &amp; MW_VENC_PLATFORM_INTEL){</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  //For Intel</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  t_platfrom = MW_VENC_PLATFORM_INTEL;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; }</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; if(t_u32_platform &amp; MW_VENC_PLATFORM_NVIDIA){</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  //For Nvidia</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  t_platfrom = MW_VENC_PLATFORM_NVIDIA;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; }</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; t_venc_param.code_type = MW_VENC_CODE_TYPE_H264;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; t_venc_param.fourcc = MW_VENC_FOURCC_NV12;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; t_venc_param.targetusage = MW_VENC_TARGETUSAGE_BALANCED;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; t_venc_param.rate_control.mode = MW_VENC_RATECONTROL_CBR;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; t_venc_param.rate_control.target_bitrate = 4096;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; t_venc_param.width = 1920;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; t_venc_param.height = 1080;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; t_venc_param.profile = MW_VENC_PROFILE_H264_MAIN;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; ...</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; // Creates an encoder</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; t_handle = mw_venc_create(t_platfrom,&amp;t_venc_param,encode_callback,NULL);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; ...</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; // Inputs data char* t_p_data;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; t_venc_stat = mw_venc_put_frame(t_handle,t_p_data);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; ...</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; // Gets parameters of encoder</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; mw_venc_property_t t_property = MW_VENC_PROPERTY_FPS;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; mw_venc_fps_t t_fps;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; t_venc_stat = mw_venc_get_property(t_handle,t_property,&amp;t_fps);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; ...</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; //Modifies parameters of encoder</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; t_fps.num = 30;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; t_fps.den = 1;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; t_venc_stat = mw_venc_set_property(t_handle,t_property,&amp;t_fps);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; ...</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; // Destroys the encoder</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; t_venc_stat = mw_venc_destory(t_handle);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; t_handle = NULL;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; ...</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;mw_venc_deinit();</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; ...</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gaec58641bb6ffda68cb1f865654773d93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mw_venc_handle_t mw_venc_create_by_index </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__hwe__variables__struct.html#gaca662428f197549b558ca786bbb72e4b">mw_venc_param_t</a> *&#160;</td>
          <td class="paramname"><em>p_param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__hwe__functions.html#ga0d3ad419f4e130ff9ee7b7ffa2364181">MW_ENCODER_CALLBACK</a>&#160;</td>
          <td class="paramname"><em>frame_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ctreats an encoder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>index of GPU used for hardware encoding </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_param</td><td>parameters of the encoder </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame_callback</td><td>callback </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_ptr</td><td>callback parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If succeeded, it returns the encoder handle; otherwise, it returns NULL.</dd></dl>
<p>Usage: <br />
 The recommended way to call the function is as follows. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;....</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;// callback</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;void encode_callback(</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;     void * user_ptr, </div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;     const uint8_t * p_frame, </div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;     uint32_t frame_len, </div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;     mw_venc_frame_info_t *p_frame_info)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;{</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;     // Processes data</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;...</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;mw_venc_init();</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;...</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;mw_venc_handle_t t_handle = NULL;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;mw_venc_platform_t t_platfrom = MW_VENC_PLATFORM_UNKNOWN;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;mw_venc_param_t t_venc_param;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;mw_venc_status_t t_venc_stat = MW_VENC_STATUS_SUCCESS;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;mw_venc_get_default_param(&amp;t_venc_param);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;int t_n_num = mw_venc_get_gpu_num();</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;int t_n_index = -1;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;if(t_n_num&gt;0)</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;   t_n_index = 0;  </div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;t_venc_param.code_type = MW_VENC_CODE_TYPE_H264;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;t_venc_param.fourcc = MW_VENC_FOURCC_NV12;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;t_venc_param.targetusage = MW_VENC_TARGETUSAGE_BALANCED;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;t_venc_param.rate_control.mode = MW_VENC_RATECONTROL_CBR;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;t_venc_param.rate_control.target_bitrate = 4096;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;t_venc_param.width = 1920;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;t_venc_param.height = 1080;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;t_venc_param.profile = MW_VENC_PROFILE_H264_MAIN;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;...</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;// Creates an encoder</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;t_handle = mw_venc_create_by_index(t_n_index,&amp;t_venc_param,encode_callback,NULL);</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;...</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;// Inputs data char* t_p_data;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;t_venc_stat = mw_venc_put_frame(t_handle,t_p_data);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;...</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;// Obtains encoder parameters</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;mw_venc_property_t t_property = MW_VENC_PROPERTY_FPS;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;mw_venc_fps_t t_fps;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;t_venc_stat = mw_venc_get_property(t_handle,t_property,&amp;t_fps);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;...</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;// Modifys encoder parameters</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;t_fps.num = 30;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;t_fps.den = 1;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;t_venc_stat = mw_venc_set_property(t_handle,t_property,&amp;t_fps);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;...</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;// Destroys the encoder</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;t_venc_stat = mw_venc_destory(t_handle);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;t_handle = NULL;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;...</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;mw_venc_deinit();</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;...</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gae500f11b08c40f4196592ce2b1ebd645"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a> mw_venc_deinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys mw_venc. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272" title="mw_venc_status_t ">mw_venc_status_t</a>, by default it is <a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204a9c6f169a22ef4e28b832e3d0ef3facca" title="Success. ">MW_VENC_STATUS_SUCCESS</a>.</dd></dl>
<p>Usage: Refers to <a class="el" href="group__group__hwe__functions.html#ga80ebe29e70a958305defe84ac2e49d8e">mw_venc_init</a> </p>

</div>
</div>
<a class="anchor" id="gaa14eee2a512695ac19fdfc0368d8ba76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a> mw_venc_destory </td>
          <td>(</td>
          <td class="paramtype">mw_venc_handle_t&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys encoders. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Encoder handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The possible return values of <a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272" title="mw_venc_status_t ">mw_venc_status_t</a> are as follows. <table class="doxtable">
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204a9c6f169a22ef4e28b832e3d0ef3facca" title="Success. ">MW_VENC_STATUS_SUCCESS</a>  </td><td>Function call succeeded.   </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204aafd076593246575b1640afb92fc7a0a5" title="Invalid parameter. ">MW_VENC_STATUS_INVALID_PARAM</a>  </td><td>Input invalid value(s).  </td></tr>
</table>
</dd></dl>
<p>Usage: <br />
The usage refers to <a class="el" href="group__group__hwe__functions.html#gad1cd4780923eba393867760ca1be33e7">mw_venc_create</a> <a class="el" href="group__group__hwe__functions.html#gaec58641bb6ffda68cb1f865654773d93">mw_venc_create_by_index</a> </p>

</div>
</div>
<a class="anchor" id="ga390998cb822ba3aecdfcefbe7cc2c254"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a> mw_venc_get_default_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__group__hwe__variables__struct.html#gaca662428f197549b558ca786bbb72e4b">mw_venc_param_t</a> *&#160;</td>
          <td class="paramname"><em>p_param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the default value of encoding parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_param</td><td>encoding parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The values of returned <a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272" title="mw_venc_status_t ">mw_venc_status_t</a> are as follows. <table class="doxtable">
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204a9c6f169a22ef4e28b832e3d0ef3facca" title="Success. ">MW_VENC_STATUS_SUCCESS</a>  </td><td>Function call succeeded.   </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204aafd076593246575b1640afb92fc7a0a5" title="Invalid parameter. ">MW_VENC_STATUS_INVALID_PARAM</a>  </td><td>Input invalid value(s).  </td></tr>
</table>
</dd></dl>
<p>Related type(s):<br />
<a class="el" href="group__group__hwe__variables__struct.html#gaca662428f197549b558ca786bbb72e4b" title="mw_venc_param_t ">mw_venc_param_t</a> <br />
Sets the default value of the parameters.<br />
</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;p_param-&gt;code_type = MW_VENC_CODE_TYPE_UNKNOWN;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;p_param-&gt;fourcc = MW_VENC_FOURCC_UNKNOWN;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;p_param-&gt;targetusage = MW_VENC_TARGETUSAGE_BALANCED;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;p_param-&gt;rate_control.mode = MW_VENC_RATECONTROL_UNKNOWN;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;p_param-&gt;rate_control.target_bitrate = 0;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;p_param-&gt;rate_control.max_bitrate = 0;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;p_param-&gt;width = 0;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;p_param-&gt;height = 0;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;p_param-&gt;fps.num = 60;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;p_param-&gt;fps.den = 1;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;p_param-&gt;slice_num = 1;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;p_param-&gt;gop_pic_size = 60;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;p_param-&gt;gop_ref_size = 1;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;p_param-&gt;profile = MW_VENC_PROFILE_UNKNOWN;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;p_param-&gt;level = MW_VENC_LEVEL_5_1;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;p_param-&gt;amd_mem_reserved = MW_VENC_AMD_MEM_DX11;</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gabe85430afd008d756635c105d813e187"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a> mw_venc_get_gpu_info_by_index </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__hwe__variables__struct.html#gaf0b4268035e196f588c51cbfc211d946">mw_venc_gpu_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains hardware information of GPU by index. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272" title="mw_venc_status_t ">mw_venc_status_t</a>. The possible return values are as follows. <table class="doxtable">
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204a9c6f169a22ef4e28b832e3d0ef3facca" title="Success. ">MW_VENC_STATUS_SUCCESS</a>  </td><td>Function call succeeded.   </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204aafd076593246575b1640afb92fc7a0a5" title="Invalid parameter. ">MW_VENC_STATUS_INVALID_PARAM</a>  </td><td>Input invalid value(s).   </td></tr>
</table>
</dd></dl>
<p>Related type(s):<br />
 <a class="el" href="group__group__hwe__variables__struct.html#gaf0b4268035e196f588c51cbfc211d946" title="mw_venc_gpu_info_t ">mw_venc_gpu_info_t</a> Usage:<br />
</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mw_venc_status_t t_status = MW_VENC_STATUS_SUCCESS;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;mw_venc_init();</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;...</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;int t_n_num = mw_venc_get_gpu_num();</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;...</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;uint32 t_u32_platforms = mw_venc_get_support_platfrom();</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;for(int i=0;i&lt;t_u32_platforms;i++){</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    mw_venc_gpu_info_t t_gou_info;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    t_status = mw_venc_get_gpu_info_by_index(i,&amp;t_gpu_info);</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    if(t_status == MW_VENC_STATUS_SUCCESS){</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;         // ...</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    } </div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;...</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;mw_venc_deinit();</div></div><!-- fragment --><p> Call the function after <a class="el" href="group__group__hwe__functions.html#ga80ebe29e70a958305defe84ac2e49d8e">mw_venc_init</a> </p>

</div>
</div>
<a class="anchor" id="ga05a41036a9f770d219bca6303111f48f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t mw_venc_get_gpu_num </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the number of GPUs for hardware video encoding and decoding. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of GPUs for hardware video encoding and decoding</dd></dl>
<p>Usage: Refers to <a class="el" href="group__group__hwe__functions.html#ga80ebe29e70a958305defe84ac2e49d8e">mw_venc_init</a> Note: Call the function after <a class="el" href="group__group__hwe__functions.html#ga80ebe29e70a958305defe84ac2e49d8e">mw_venc_init</a> </p>

</div>
</div>
<a class="anchor" id="gabd1cab1d6b31b33de6be6771bc85bb30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a> mw_venc_get_property </td>
          <td>(</td>
          <td class="paramtype">mw_venc_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__hwe__variables__enum.html#gace8effbe4de00f9dbc1a4f2eafdc9fbc">mw_venc_property_t</a>&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets encoder parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Encoder handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>Parameter type </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">args</td><td>Parameter values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The possible return values of <a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272" title="mw_venc_status_t ">mw_venc_status_t</a> are as follows. <table class="doxtable">
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204a9c6f169a22ef4e28b832e3d0ef3facca" title="Success. ">MW_VENC_STATUS_SUCCESS</a>  </td><td>Function call succeeded.   </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204aafd076593246575b1640afb92fc7a0a5" title="Invalid parameter. ">MW_VENC_STATUS_INVALID_PARAM</a>  </td><td>Input invalid value(s).   </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204ad619b7024cc172c668713d6008243e2b" title="Fail. ">MW_VENC_STATUS_FAIL</a>  </td><td>Failed to get encoder parameters.   </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204af59df2aa22624e5f6b924ed38972a72a" title="Not supported. ">MW_VENC_STATUS_UNSUPPORT</a>  </td><td>Unsupported parameter type.   </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204abdb0b3425caad58e62789b45684356e8" title="Unknown error. ">MW_VENC_STATUS_UNKNOWN_ERROR</a>  </td><td>Failed to get encoder parameters with unknown error.   </td></tr>
</table>
</dd></dl>
<p>Usage: <br />
The usage refers to <a class="el" href="group__group__hwe__functions.html#gad1cd4780923eba393867760ca1be33e7">mw_venc_create</a> <a class="el" href="group__group__hwe__functions.html#gaec58641bb6ffda68cb1f865654773d93">mw_venc_create_by_index</a> </p>

</div>
</div>
<a class="anchor" id="gab32f83108c407dd142065896b9c01f24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t mw_venc_get_support_platfrom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets supported encoding hardware platform. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns mask of supported hardware encoding platform. The detailed information refers to <a class="el" href="group__group__hwe__variables__enum.html#ga667ef7b26102fd40f72e2080d3a7c35d" title="mw_venc_platform_t ">mw_venc_platform_t</a>.</dd></dl>
<p>Usage: <br />
The recommended way of calling function: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;...</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;mw_venc_init();</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;...</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;uint32 t_u32_platfrom = mw_venc_get_support_platfrom();</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;if(t_u32_platfrom &amp; MW_VENC_PLATFORM_AMD){</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; //For AMD hardware encoding</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;if(t_u32_platform &amp; MW_VENC_PLATFORM_INTEL){</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; //For Intel hardware encoding</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;if(t_u32_platform &amp; MW_VENC_PLATFORM_NVIDIA){</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; //For Nvidia hardware encoding</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;...</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;mw_venc_deinit();</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;...</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga80ebe29e70a958305defe84ac2e49d8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a> mw_venc_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes mw_venc. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272" title="mw_venc_status_t ">mw_venc_status_t</a>, by default it is <a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204a9c6f169a22ef4e28b832e3d0ef3facca" title="Success. ">MW_VENC_STATUS_SUCCESS</a>.</dd></dl>
<p>Usage: The suggested API call: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;// Call the function before other mw_venc modules. It initializes resources for the mw_venc.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;mw_venc_init();</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;...</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;int t_n_num = mw_venc_get_gpu_num();</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;...</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;uint32 t_u32_platforms = mw_venc_get_support_platfrom()</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;...</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;mw_venc_deinit();</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga73221cbca4671e371ec4727da5179e26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a> mw_venc_put_frame </td>
          <td>(</td>
          <td class="paramtype">mw_venc_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Imports data to encoders. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Encoder handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_frame</td><td>Frame data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The possible return values of <a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272" title="mw_venc_status_t ">mw_venc_status_t</a> are as follows. <table class="doxtable">
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204a9c6f169a22ef4e28b832e3d0ef3facca" title="Success. ">MW_VENC_STATUS_SUCCESS</a>  </td><td>Function call succeeded.   </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204aafd076593246575b1640afb92fc7a0a5" title="Invalid parameter. ">MW_VENC_STATUS_INVALID_PARAM</a>  </td><td>Input invalid value(s).  </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204ad619b7024cc172c668713d6008243e2b" title="Fail. ">MW_VENC_STATUS_FAIL</a>  </td><td>Function call failed.  </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204abdb0b3425caad58e62789b45684356e8" title="Unknown error. ">MW_VENC_STATUS_UNKNOWN_ERROR</a>  </td><td>Function call failed with unknown errors.  </td></tr>
</table>
</dd></dl>
<p>Usage: <br />
The usage refers to <a class="el" href="group__group__hwe__functions.html#gad1cd4780923eba393867760ca1be33e7">mw_venc_create</a> <br />
 <a class="el" href="group__group__hwe__functions.html#gaec58641bb6ffda68cb1f865654773d93">mw_venc_create_by_index</a> </p>

</div>
</div>
<a class="anchor" id="gaa4bcddc245714bd7a69a89638ba8baa5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a> mw_venc_put_frame_ex </td>
          <td>(</td>
          <td class="paramtype">mw_venc_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>pts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Imports data to encoders. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Encoder handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_frame</td><td>Frame data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pts</td><td>timestamp </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The possible return values of <a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272" title="mw_venc_status_t ">mw_venc_status_t</a> are as follows. <table class="doxtable">
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204a9c6f169a22ef4e28b832e3d0ef3facca" title="Success. ">MW_VENC_STATUS_SUCCESS</a>  </td><td>Function call succeeded   </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204aafd076593246575b1640afb92fc7a0a5" title="Invalid parameter. ">MW_VENC_STATUS_INVALID_PARAM</a>  </td><td>Input invalid value(s).   </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204ad619b7024cc172c668713d6008243e2b" title="Fail. ">MW_VENC_STATUS_FAIL</a>  </td><td>Function call failed.   </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204abdb0b3425caad58e62789b45684356e8" title="Unknown error. ">MW_VENC_STATUS_UNKNOWN_ERROR</a>  </td><td>Function call failed with unknown errors.   </td></tr>
</table>
</dd></dl>
<p>Usage: <br />
The usage refers to <a class="el" href="group__group__hwe__functions.html#ga73221cbca4671e371ec4727da5179e26">mw_venc_put_frame</a> </p>

</div>
</div>
<a class="anchor" id="ga88ce94ee4facb6a87d88c45aae28075a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272">mw_venc_status_t</a> mw_venc_set_property </td>
          <td>(</td>
          <td class="paramtype">mw_venc_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__hwe__variables__enum.html#gace8effbe4de00f9dbc1a4f2eafdc9fbc">mw_venc_property_t</a>&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets encoder parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Encoder handle [in] param Parameter type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">args</td><td>Parameter values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The possible return values of <a class="el" href="group__group__hwe__variables__enum.html#gab1ab3d8ae36aec86758e399161a82272" title="mw_venc_status_t ">mw_venc_status_t</a> are as follows. <table class="doxtable">
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204a9c6f169a22ef4e28b832e3d0ef3facca" title="Success. ">MW_VENC_STATUS_SUCCESS</a>  </td><td>Function call succeeded.  </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204aafd076593246575b1640afb92fc7a0a5" title="Invalid parameter. ">MW_VENC_STATUS_INVALID_PARAM</a>  </td><td>Input invalid value(s).  </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204ad619b7024cc172c668713d6008243e2b" title="Fail. ">MW_VENC_STATUS_FAIL</a>  </td><td>Function call failed.  </td></tr>
<tr>
<td><a class="el" href="group__group__hwe__variables__enum.html#gga49695688358c2cfb0d53c64e97ea6204af59df2aa22624e5f6b924ed38972a72a" title="Not supported. ">MW_VENC_STATUS_UNSUPPORT</a>  </td><td>Unsupported parameter type.   </td></tr>
</table>
</dd></dl>
<p>Usage: <br />
The usage refers to <a class="el" href="group__group__hwe__functions.html#gad1cd4780923eba393867760ca1be33e7">mw_venc_create</a> <a class="el" href="group__group__hwe__functions.html#gaec58641bb6ffda68cb1f865654773d93">mw_venc_create_by_index</a> </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<footer class="global-footer">
  <div class="container">
    <div class="copyright">
      <span class="text"> 2019, Nanjing Magewell Electronics Co., Ltd. All rights reserved.</span>
    </div>
  </div>
</footer>
</body>
</html>
