<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge"> 
    <meta name="generator" content="Doxygen 1.8.11"/>
    <title>Mp4 Muxer Functions - MWCapture SDK Linux</title>
    <script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
    <link href="mw_style.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="dynsections.js"></script>
  </head>
  <body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
    <tbody>
    <tr>
      <td id="projectalign">
      <div id="projectname"><a href="http://www.magewell.com/sdk" target="blank">MWCapture SDK Linux</a>
      &#160;<span id="projectnumber">3.3.1.LAST_SVN_COMMIT_NUM</span>
      </div>
      </td>
    </tr>
    </tbody>
    </table>
  </div>
  <!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="page_lib.html"><span>Development&#160;Library</span></a></li>
      <li><a href="Readme.html"><span>Release&#160;Notes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Mp4 Muxer Functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabba8c1a4b4008125f2b7bc97f5221258"><td class="memItemLeft" align="right" valign="top">MW_MP4_API <a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mp4__functions.html#gabba8c1a4b4008125f2b7bc97f5221258">mw_mp4_open</a> (const char *p_path)</td></tr>
<tr class="separator:gabba8c1a4b4008125f2b7bc97f5221258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76578ba48de4f9c8530ee664ee0318ca"><td class="memItemLeft" align="right" valign="top">MW_MP4_API mw_mp4_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mp4__functions.html#ga76578ba48de4f9c8530ee664ee0318ca">mw_mp4_set_video</a> (<a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a> handle, const <a class="el" href="struct__mw__mp4__video__info.html">mw_mp4_video_info_t</a> *p_info)</td></tr>
<tr class="separator:ga76578ba48de4f9c8530ee664ee0318ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c060225ccbd2b21d1b7c6aac47a3175"><td class="memItemLeft" align="right" valign="top">MW_MP4_API mw_mp4_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mp4__functions.html#ga2c060225ccbd2b21d1b7c6aac47a3175">mw_mp4_set_audio</a> (<a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a> handle, const <a class="el" href="struct__mw__mp4__audio__info.html">mw_mp4_audio_info_t</a> *p_info)</td></tr>
<tr class="separator:ga2c060225ccbd2b21d1b7c6aac47a3175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga879edf66b7cd472420d1bd3ea80ccd0a"><td class="memItemLeft" align="right" valign="top">MW_MP4_API mw_mp4_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mp4__functions.html#ga879edf66b7cd472420d1bd3ea80ccd0a">mw_mp4_set_subtitle</a> (<a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a> handle, const <a class="el" href="struct__mw__mp4__subtitle__info.html">mw_mp4_subtitle_info_t</a> *p_info)</td></tr>
<tr class="separator:ga879edf66b7cd472420d1bd3ea80ccd0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf43c4e2d482f77176726a426b000a2ee"><td class="memItemLeft" align="right" valign="top">MW_MP4_API mw_mp4_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mp4__functions.html#gaf43c4e2d482f77176726a426b000a2ee">mw_mp4_write_video</a> (<a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a> handle, const uint8_t *p_stream, uint32_t size, uint64_t timestamp)</td></tr>
<tr class="separator:gaf43c4e2d482f77176726a426b000a2ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2faf73be3590b6ef44ab51189954a23e"><td class="memItemLeft" align="right" valign="top">MW_MP4_API mw_mp4_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mp4__functions.html#ga2faf73be3590b6ef44ab51189954a23e">mw_mp4_write_audio</a> (<a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a> handle, const uint8_t *p_stream, uint32_t size, uint64_t timestamp)</td></tr>
<tr class="separator:ga2faf73be3590b6ef44ab51189954a23e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a816cf19458410b6b3d7a60c3e1dbd3"><td class="memItemLeft" align="right" valign="top">MW_MP4_API mw_mp4_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mp4__functions.html#ga5a816cf19458410b6b3d7a60c3e1dbd3">mw_mp4_write_subtitle</a> (<a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a> handle, const uint8_t *p_stream, uint32_t size, uint64_t timestamp)</td></tr>
<tr class="separator:ga5a816cf19458410b6b3d7a60c3e1dbd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf95013c11e007a5787f765a523007306"><td class="memItemLeft" align="right" valign="top">MW_MP4_API mw_mp4_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mp4__functions.html#gaf95013c11e007a5787f765a523007306">mw_mp4_close</a> (<a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a> handle)</td></tr>
<tr class="separator:gaf95013c11e007a5787f765a523007306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e488a7af9105aabef84dd761c0917a3"><td class="memItemLeft" align="right" valign="top">MW_MP4_API mw_mp4_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__mp4__functions.html#ga9e488a7af9105aabef84dd761c0917a3">mw_mp4_repair</a> (const char *p_path, bool del)</td></tr>
<tr class="separator:ga9e488a7af9105aabef84dd761c0917a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaf95013c11e007a5787f765a523007306"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MW_MP4_API mw_mp4_status_t mw_mp4_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>close an opened MP4 file handle </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>mp4 file handle </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return MW_MP4_STATUS_SUCCESS if success, else error code </dd></dl>

</div>
</div>
<a class="anchor" id="gabba8c1a4b4008125f2b7bc97f5221258"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MW_MP4_API <a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a> mw_mp4_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>p_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>create a handle to mux video/audio/subtitle stream to mp4 file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_path</td><td>the output file path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If succeeded, it returns the mp4 handle; otherwise, it returns NULL. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9e488a7af9105aabef84dd761c0917a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MW_MP4_API mw_mp4_status_t mw_mp4_repair </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>p_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>del</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>repair a broken file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_path</td><td>the broken file path </td></tr>
    <tr><td class="paramname">del</td><td>automatic delete the redundancy file if repair succeeded. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return MW_MP4_STATUS_SUCCESS if success, else error code </dd></dl>

</div>
</div>
<a class="anchor" id="ga2c060225ccbd2b21d1b7c6aac47a3175"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MW_MP4_API mw_mp4_status_t mw_mp4_set_audio </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct__mw__mp4__audio__info.html">mw_mp4_audio_info_t</a> *&#160;</td>
          <td class="paramname"><em>p_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>set audio stream information, support codec aac </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>mp4 handle. </td></tr>
    <tr><td class="paramname">p_info</td><td>audio stream information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return MW_MP4_STATUS_SUCCESS if success, else error code </dd></dl>

</div>
</div>
<a class="anchor" id="ga879edf66b7cd472420d1bd3ea80ccd0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MW_MP4_API mw_mp4_status_t mw_mp4_set_subtitle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct__mw__mp4__subtitle__info.html">mw_mp4_subtitle_info_t</a> *&#160;</td>
          <td class="paramname"><em>p_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>set subtitle(closed caption) stream information, support EIA-608 and EIA-708 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>mp4 handle. </td></tr>
    <tr><td class="paramname">p_info</td><td>subtitle(closed caption) stream information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return MW_MP4_STATUS_SUCCESS if success, else error code </dd></dl>

</div>
</div>
<a class="anchor" id="ga76578ba48de4f9c8530ee664ee0318ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MW_MP4_API mw_mp4_status_t mw_mp4_set_video </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct__mw__mp4__video__info.html">mw_mp4_video_info_t</a> *&#160;</td>
          <td class="paramname"><em>p_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>set video track information, support codec H.264 and HEVC. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>mp4 handle. </td></tr>
    <tr><td class="paramname">p_info</td><td>video stream information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return MW_MP4_STATUS_SUCCESS if success, else error code </dd></dl>

</div>
</div>
<a class="anchor" id="ga2faf73be3590b6ef44ab51189954a23e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MW_MP4_API mw_mp4_status_t mw_mp4_write_audio </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>p_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>write an audio frame to mp4 file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>mp4 handle </td></tr>
    <tr><td class="paramname">p_stream</td><td>audio frame data </td></tr>
    <tr><td class="paramname">size</td><td>audio frame size </td></tr>
    <tr><td class="paramname">timestamp</td><td>audio frame timestamp </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return MW_MP4_STATUS_SUCCESS if success, else error code </dd></dl>

</div>
</div>
<a class="anchor" id="ga5a816cf19458410b6b3d7a60c3e1dbd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MW_MP4_API mw_mp4_status_t mw_mp4_write_subtitle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>p_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>write a subtitle(closed caption) frame to mp4 file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>mp4 handle </td></tr>
    <tr><td class="paramname">p_stream</td><td>subtitle frame data </td></tr>
    <tr><td class="paramname">size</td><td>subtitle frame size </td></tr>
    <tr><td class="paramname">timestamp</td><td>subtitle frame timestamp </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return MW_MP4_STATUS_SUCCESS if success, else error code </dd></dl>

</div>
</div>
<a class="anchor" id="gaf43c4e2d482f77176726a426b000a2ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MW_MP4_API mw_mp4_status_t mw_mp4_write_video </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mw__mp4__handle__t.html">mw_mp4_handle_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>p_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>write a video frame to mp4 file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>mp4 handle. </td></tr>
    <tr><td class="paramname">p_stream</td><td>video frame data </td></tr>
    <tr><td class="paramname">size</td><td>video frame size </td></tr>
    <tr><td class="paramname">timestamp</td><td>video frame timestamp </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return MW_MP4_STATUS_SUCCESS if success, else error code </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<footer class="global-footer">
  <div class="container">
    <div class="copyright">
      <span class="text">© 2019, Nanjing Magewell Electronics Co., Ltd. All rights reserved.</span>
    </div>
  </div>
</footer>
</body>
</html>
